# XHR

- 在获取文件上传进度时, 可能会写成

  ```js
  xhr.onprogress = function(e) {
  	//something here
  }
  ```

  但这段代码在上传途中都不会执行, 因为这是response的progress. 应该写成

  ```js
  xhr.upload.onprogress = function(e) {
  	//something here
  }
  ```

# CSS

- 在flex盒内实现"文本溢出..."效果时, `white-space: nowrap`会撑大container, 因为依据标准container需要比其内部元素大.
  解决方式: 需要设置文本溢出效果的元素尺寸因为默认`width: 100%`, 尺寸由上级container确定, 依次向上查找明确设置了大小的container, 添加: `min-width: 0`, 再在需要设置文本溢出效果的元素上添加

  ```css
  {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
  }
  ```
  
  [参考](https://codepen.io/mxxxxxs/pen/NWPOVVb)
  
  在上述情况下, table元素宽度会溢出, 设置table元素
  
  ```css
  table {
      word-break: break-word;
  }
  ```
  
  

# React

- 在使用function组件时, 事件handler最好使用`useCallback`hook包裹, 而不是直接写在组件内. 后者每次更新组件都会重新声明并赋值, 影响渲染效率.

# 设置代理(万物开头)

很多时候命令行下载各种依赖会因为国情导致卡死, 可以设置bash代理来解决, 前提是需要准备好代理

```bash
export http_proxy=http://127.0.0.1:8001
export https_proxy=http://127.0.0.1:8001
```

# APT

## 代理(万物开头)

debian的包管理工具apt不使用变量http_proxy和https_proxy, 需要配置文件`/etc/apt/apt.conf`, 写入

```
Acquire::http::Proxy "http://代理:端口";
Acquire::https::Proxy "https://代理:端口
```

## 装包时, 搜索不到

`sudo apt update`更新列表

# 快捷键显示前缀

"^"是"ctrl", "M"是"alt"

# ssh

安装`sudo apt install openssh-client`客户端

配置文件位置 `~/.ssh/config` and `/etc/ssh/ssh_config`

添加

```
# Read more about SSH config files: https://linux.die.net/man/5/ssh_config
Host alice
    HostName 185.53.130.107
    Port 22
    User root
    PasswordAuthentication yes
```

## 代理(万物开头)

[参考]( https://terrywang.net/2011/09/23/ssh-via-http-proxy.html )

装包` connect-proxy `, 再在ssh的配置文件里加上一行`ProxyCommand connect -H 127.0.0.1:8001 %h %p`

## 防断连

[参考]( https://askubuntu.com/questions/127369/how-to-prevent-write-failed-broken-pipe-on-ssh-connection )

配置添加

```
ServerAliveInterval 30
ServerAliveCountMax 5
TCPKeepAlive yes
```

# 编辑器

轻量级改动, vi或vim不熟可以用nano, 简单方便.

# 小技巧

快速回家`cd`, 回到前一次的目录`cd -`

快速命令查阅 https://tldr.ostera.io/ , 项目[tldr]( https://github.com/tldr-pages/tldr )推荐, 通过npm安装

# 添加到path

`export PATH="路径:$PATH"`